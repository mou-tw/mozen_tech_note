| 索引类型                | 构建结构                    | 最大数量     | 唯一性支持 | 物理顺序   | 优点    | 适用场景       |
| ------------------- | ----------------------- | -------- | ----- | ------ | ----- | ---------- |
| 聚集索引（Clustered）     | B+ 树，叶节点是表数据            | 1        | 可设置唯一 | 有      | 范围查询快 | 主键、日期、范围过滤 |
| 非聚集索引（Nonclustered） | B+ 树，叶节点含键+行指针          | 多个       | 可设置唯一 | 无      | 单点查找快 | 多查询列需加索引   |
| 唯一索引（Unique）        | 可为聚集或非聚集索引              | 聚集+非聚集都可 | 强制唯一  | 依附所在索引 | 数据唯一性 | 身份证号、邮箱等   |
| 筛选索引（Filtered）      | Nonclustered + WHERE 过滤 | 多个       | 可设置唯一 | 无      | 小体积高效 | 特定状态值高频查询  |

### 1. 聚集索引（Clustered Index）
作用：对整个表的数据行进行排序并以此方式存储。叶节点就是实际的数据行，结构是 B+ 树
特性：
每张表最多只能有 一个聚集索引 。
支持高效的 范围查询、排序与扫描 —— 因为数据物理顺序已按索引键排列
**适用场景**：适合经常基于主键或日期等字段的排序/范围查询。



### 2. 非聚集索引（Nonclustered Index）
**作用**：创建一个独立的 B+ 树结构，按索引键排序，叶节点包含键值和指向数据行的指针
**特性**：
- 一张表可创建 **多个非聚集索引** 。
- 提高特定列的 **查找效率**，尤其是在 `WHERE`、`JOIN`、`ORDER BY` 中使用的列 。
**适用场景**：适合在多个查询模式下需要快速访问某些列的情况，但不适合频繁的全表扫描。


### 3. 唯一索引（Unique Index）
**作用**：保证索引键值在表中唯一，防止重复值插入，可用于聚集或非聚集索引上
**区别于主键**：
- 主键默认是**唯一且非 NULL**。
- 唯一索引允许 **1 个 NULL 值**（视 DB 平台可能不同）
**适用场景**：用于需要数据唯一性验证的列，如身份证号、邮箱等。

```
CREATE UNIQUE CLUSTERED INDEX IX_Table_ID
ON Table (ID);

CREATE UNIQUE NONCLUSTERED INDEX IX_Table_Email
ON Table (Email);
```

### 4. 筛选索引（Filtered Index）
**作用**：是非聚集索引的变体，仅索引满足 `WHERE` 条件的表行，创建更小、更高效的索引结构
- **优点**：
    - 占用较少存储空间
    - 更新维护成本低
    - 当查询中条件与筛选条件一致时，性能极佳 。
- **限制**：
    - 只能用于非聚集索引
    - `WHERE` 子句需为固定简单条件（例如不支持复杂函数或参数等）
- **适用场景**：例如只对状态为 `'Active'`、非 NULL 值或特定值集合进行高频查询。

```
-- 假设在 Orders 表中，只有少数是 “Pending” 状态
CREATE NONCLUSTERED INDEX IX_Orders_Pending
ON Orders (OrderDate)
WHERE OrderStatus = 'Pending';
```

如果 90% 的订单已完成（`OrderStatus = 'Completed'`），此索引就只覆盖剩下 10% 的行。
索引结构更小，维护时效率更高，查询针对 `Pending` 的订单时也更快速精准。
