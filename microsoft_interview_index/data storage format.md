|存储格式|数据结构|索引结构|插入性能|查询效率|适用场景|
|---|---|---|---|---|---|
|**Heap**|无序磁盘页|无聚集索引|很快|随机或范围查询需全表扫描|临时表、批量插入、不排序的情况|
|**Clustered Index (B+ 树)**|B+ 树|聚集索引|较慢（结构维护）|精确 + 范围查询高效|OLTP, OLAP, 需要排序或索引的场合|
|**Memory-Optimized Table**|内存哈希 / range|内存索引（hash/range）|极快|精确或范围查询极高效|高频并发事务，延迟敏感应用|

## 1. Heap
Heap 是没有聚集索引的表，其数据是以插入顺序随意存放，不维护排序
数据页面通过 IAM（索引分配映射）串连，但这些页面之间没有逻辑顺序或链接
使用 RID（FileID:PageID:SlotID）作为行定位器，全表扫描时通过扫描所有页面并使用 IAM 寻址
优缺点:
插入速度快（不需维护排序结构），适合频繁大量插入或临时交换数据场景，如 staging tables
缺点是随机读取或范围查询性能差，因需扫描所有页面来定位数据。

## Clustered Index（cluster index / B+ 树表）
定义聚集索引时，整个表以索引键排序并存储在 B+ 树结构中
结构与访问:
使用根页 ➝ 内部页 ➝ 叶页，叶页即数据页，结构有序存储并且叶页相连支持范围访问。
支持高效的Index Seek查询，能够快速定位单行或范围
优缺点:
读取效率高，特别适合过滤、排序、范围查询。
插入/更新需维护 B+ 树结构（如页面拆分、合并），写入时额外开销


## 3. Memory-Optimized Table
属于 In‑Memory OLTP，数据与索引常驻内存，不采用磁盘上的 B+ 树
索引类型:
Hash 索引：适合精确匹配查询，需预设 BUCKET_COUNT，让性能更佳。
Range 索引（非聚集）：用于范围查询。
优缺点:
提供极快的读写性能，尤其是高并发 OLTP 场景，避免锁竞争与 latches
不适合磁盘可持久化或复杂事务场景，且需合理规划内存与指数策略。



